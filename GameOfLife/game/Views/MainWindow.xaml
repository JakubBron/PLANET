<Window
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:local="clr-namespace:game.Views"
            xmlns:vm="clr-namespace:game.ViewModels"
            xmlns:av="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="av" x:Class="game.Views.MainWindow"
            Title="Game of Life" Height="800" Width="1200" Background="#f0f5f1">

    <Window.Resources>
        <vm:GameViewModel x:Key="GameVM" />
    </Window.Resources>
    <Window.DataContext>
        <StaticResource ResourceKey="GameVM"/>
    </Window.DataContext>

    <DockPanel>
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="5">
            <Button x:Name="StartButton" Content="Start" Style="{StaticResource CommonButtonStyle}" Click="Start_Click"/>
            <Button x:Name="StopButton" Content="Stop" Style="{StaticResource CommonButtonStyle}" Click="Stop_Click"/>
            <Button x:Name="StepButton" Content="Step" Style="{StaticResource CommonButtonStyle}" Click="Step_Click"/>
            <Button x:Name="ClearButton" Content="Clear" Style="{StaticResource CommonButtonStyle}" Click="Clear_Click"/>
            <Button x:Name="RandomButton" Content="Random" Style="{StaticResource CommonButtonStyle}" Click="Random_Click"/>
            <Button Content="Save" Style="{StaticResource CommonButtonStyle}" Click="Save_Click"/>
            <Button Content="Load" Style="{StaticResource CommonButtonStyle}" Click="Load_Click"/>

            <TextBlock Text="Cell Size:"  Style="{StaticResource CommonTextStyle}" Margin="5,0" VerticalAlignment="Center"/>
            <TextBox x:Name="CellSizeBox" Style="{StaticResource TextBoxStyle}" Width="40" Text="10" TextChanged="CellSizeBox_TextChanged"/>

            <TextBlock Text="Zoom:" Style="{StaticResource CommonTextStyle}" Margin="5,0" RenderTransformOrigin="0.926,0.077" VerticalAlignment="Center"/>
            <Slider Minimum="0.1" Maximum="5" Value="1" Width="100" ValueChanged="ZoomSlider_ValueChanged"/>

            <TextBlock Text="Rules:" Style="{StaticResource CommonTextStyle}" Margin="5,0" VerticalAlignment="Center"/>
            <TextBox x:Name="RulesBox" Style="{StaticResource TextBoxStyle}" Width="60" Text="B3/S23" TextChanged="RulesBox_TextChanged"/>

            <TextBlock Text="Board size:"  Style="{StaticResource CommonTextStyle}" VerticalAlignment="Center"/>
            <TextBox x:Name="BoardSizeUserX" Style="{StaticResource TextBoxStyle}" Width="60" Text="100" TextChanged="BoardSizeBox_XValueChanged"/>
            <TextBlock Text="x" Style="{StaticResource CommonTextStyle}" VerticalAlignment="Center"/>
            <TextBox x:Name="BoardSizeUserY" Style="{StaticResource TextBoxStyle}" Width="60" Text="100" TextChanged="BoardSizeBox_YValueChanged"/>
            <Button x:Name="ResizeButton" Style="{StaticResource CommonButtonStyle}" Content="Resize" Click="ResizeButton_OnClick" Width="70"/>
        </StackPanel>

        <StackPanel DockPanel.Dock="Right" HorizontalAlignment="Stretch" Margin="5">
            <CheckBox x:Name="SoundCheckbox" Style="{StaticResource CommonCheckboxStyle}" Content="Play Sound when cell is created" IsChecked="True" ToolTip="Play a note when a cell is drawn" Margin="0,0,0,5"/>
            
            <TextBlock Text="Cell Shape" Style="{StaticResource CommonTextStyle}" FontWeight="Bold" Margin="0,0,0,5"/>
            <ComboBox x:Name="ShapeComboBox"
                SelectedValue="{Binding CellShape}"
                SelectedValuePath="Content">
                <ComboBoxItem Content="Rectangle" IsSelected="True"/>
                <ComboBoxItem Content="Circle"/>
                <ComboBoxItem Content="Triangle"/>
            </ComboBox>

            <TextBlock Text="Cell Color" Style="{StaticResource CommonTextStyle}" FontWeight="Bold" Margin="0,10,0,5"/>
            <ComboBox x:Name="CellColorComboBox" SelectionChanged="CellColorComboBox_SelectionChanged">
                <ComboBoxItem Content="LimeGreen" IsSelected="True"/>
                <ComboBoxItem Content="Red"/>
                <ComboBoxItem Content="Blue"/>
                <ComboBoxItem Content="Yellow"/>
                <ComboBoxItem Content="Magenta"/>
            </ComboBox>

            <TextBlock Text="Pattern placement" Style="{StaticResource CommonTextStyle}" VerticalAlignment="Center" Margin="0,10,0,0"/>
            <StackPanel x:Name="PresetPanel"  Orientation="Horizontal" Margin="5">
                <TextBlock Text="X:" Style="{StaticResource CommonTextStyle}" VerticalAlignment="Center"/>
                <TextBox x:Name="XTextBox" Style="{StaticResource TextBoxStyle}" Width="40" Text="{Binding PlacementX, UpdateSourceTrigger=PropertyChanged}" />

                <TextBlock Text="Y:" Style="{StaticResource CommonTextStyle}" VerticalAlignment="Center" Margin="5,0,0,0"/>
                <TextBox x:Name="YTextBox" Style="{StaticResource TextBoxStyle}" Width="40" Text="{Binding PlacementY, UpdateSourceTrigger=PropertyChanged}" />

                <TextBlock Text="Pattern:" Style="{StaticResource CommonTextStyle}" VerticalAlignment="Center" Margin="5,0,0,0"/>
                <ComboBox x:Name="PresetComboBox" Width="80">
                    <ComboBoxItem Content="Block" />
                    <ComboBoxItem Content="Beehive"/>
                    <ComboBoxItem Content="Loaf"/>
                    <ComboBoxItem Content="Blinker"/>
                    <ComboBoxItem Content="Beacon"/>
                    <ComboBoxItem Content="Glider" />
                </ComboBox>
                <Button x:Name="PlacePatternButton" Content="Place Pattern" Style="{StaticResource CommonButtonStyle}" Click="PlacePattern_Click" Margin="5,0,0,0"/>
            </StackPanel>

            <StackPanel DockPanel.Dock="Right" Margin="5">
                <TextBlock Text="Simulation Speed" Style="{StaticResource CommonTextStyle}" FontWeight="Bold" Margin="0,10,0,5"/>
                <Slider x:Name="SpeedSlider" Minimum="10" Maximum="1000" Value="100" TickFrequency="50" IsSnapToTickEnabled="True" ValueChanged="SpeedSlider_ValueChanged"/>
                <Grid Margin="0,2,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="fast" Style="{StaticResource CommonTextStyle}" FontWeight="Bold" Grid.Column="0" HorizontalAlignment="Left"/>
                    <TextBlock Text="slow" Style="{StaticResource CommonTextStyle}" FontWeight="Bold" Grid.Column="1" HorizontalAlignment="Right"/>
                </Grid>
            </StackPanel>

            <StackPanel x:Name="StatsPanel" Orientation="Vertical"
                        HorizontalAlignment="Left"
                        Background="#80000000" Margin="5" Width="178">
                <TextBlock Text="{Binding Board.Generation, StringFormat=Generation: \{0\}}" Foreground="Yellow" FontFamily="Consolas"/>
                <TextBlock Text="{Binding Board.Born, StringFormat=Born: \{0\}}" Foreground="Yellow" FontFamily="Consolas"/>
                <TextBlock Text="{Binding Board.Died, StringFormat=Died: \{0\}}" Foreground="Yellow" FontFamily="Consolas"/>
                <TextBlock Text="{Binding Board.Cells.Count, StringFormat=Cells: \{0\}}" Foreground="Yellow" FontFamily="Consolas"/>
            </StackPanel>
            <Button Content="Take Screenshot" Style="{StaticResource CommonButtonStyle}" Click="ScreenshotButton_Click" Width="150" Height="30" Margin="10"/>
        </StackPanel>

        <ScrollViewer x:Name="BoardScrollViewer" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
            <local:BoardRenderer x:Name="BoardCanvas"/>
        </ScrollViewer>

    </DockPanel>
</Window>
